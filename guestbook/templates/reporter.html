{% load staticfiles %}
<html>
<head>
  <title>Reporter</title>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
   <script type="text/javascript" src="https://code.jquery.com/jquery-1.10.0.min.js"></script>
   <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"></script>   
  -<link rel="stylesheet" href="{% static 'css/guestbook.css' %}">
   <script type="text/javascript">
    window.setTimeout("redirectpage();", 120000);    
    function redirectpage(){
    window.top.location.href = '/ophouse/select';
    }
</script>
</head>
<body>
<div class="container">
<c><small> charliewp/Guestbook uses the GNU GPL v3.0 [v20180416]</small></c>
</div>
{% block extrahead %}
<script type="text/javascript">
$( document ).ready(function() {
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    fontColor: "#CCC",
    data : {
    labels: {{ labels }},
    datasets: [{
        fill: false,
        label: 'Prompt Responses',
        data: {{ values }},
        borderColor: '#fe8b36',
        backgroundColor: '#fe8b36',
        lineTension: 0.3,
        borderColor: 'orange',
        backgroundColor: 'transparent',
        pointBorderColor: 'orange',
        pointBackgroundColor: 'orange',
        pointRadius: 5,
        pointHoverRadius: 15,
        pointHitRadius: 30,
        pointBorderWidth: 1,
        pointStyle: 'rect',
        showLine: true, //<- set this
        borderDash: [3,5]
    }]
    },
    options: {
        fill: false,
        responsive: true,
        legend: {
        display: false
    },
    tooltips: {
        callbacks: {
           label: function(tooltipItem) {
                  return tooltipItem.yLabel;
           }
        }
    },
        scales: {
            xAxes: [{
                type: 'time',
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: "Date",
                    fontColor: "#CCC"
                },
                ticks: {
                  fontColor: "#CCC", // this here
                  lineColor: "#CCC"
                },
                gridLines: {
                  display: true ,
                  color: "#FFFFFF"
                }
            }],
            yAxes: [{
                
                display: true,
                scaleLabel: {
                    display: false,
                    labelString: "Response",
                },
                ticks: {
                  fontColor: "#CCC", // this here
                  fontColor: "#CCC"
                },
                gridLines: {
                  display: true ,
                  color: "#FFFFFF"
                }
            }]
        }
    }
});
});
</script> 
{% endblock %}
<div class="container" style="padding:0px">
    <div style="width:100%; padding:2px">
                <form name="signin" action="/ophouse/select/" method="get">
                    {%csrf_token%}
                    {% for error in form.non_field_errors %}
                    <div class="form-group has-errors text-danger small">
                        {{error}}
                    </div>
                    {% endfor %}
                    <div class="divTable">
                       <div class="divTableBody">
                         <div class="divTableRow">
                            <div class="divTableCell">
                              <button class="btn-primary" style="width:100%">Go Back / Regresa</button>
                            </div>
                         </div>
                        </div>
                    </div>
                </form>
    </div>
    <div>
      <form name="login" action="/ophouse/reporter/" method="post">
        {%csrf_token%}
        <div class="divTable" style="width:100%;padding:2px">
          <div class="divTableBody">
             <div class="divTableRow">
               <div class="divTableCell" style="width:25">
                 {{ form.persons }}
               </div>
               <div class="divTableCell" style="width:50%">
                 {{ form.prompts }}
               </div>
             </div>
          </div>
        </div>
        <button class="btn-success" style="width:100%;padding:5px;">Graph It!</button>
      </form>
    </div>    
</div>
<div class="container" style="padding:0px">
<div class="divTable">
      <div class="divTableBody">        
        <div class="divTableRow">
        {% for key in chartkeys %}
          <div class="divTableCell">
             <small>{{key.0}}~</small><small>{{key.1}}</small>
          </div>
        {% endfor %}
        </div>
      </div>
</div>
<canvas id="myChart" width="500" height="175"></canvas>
 </div>
</body>
</html>